import xml.etree.ElementTree as ET
from plotter import GenerateChart
tree = ET.parse('allitems-cvrf.xml')
root = tree
years = {}
for country in root.findall('{http://www.icasi.org/CVRF/schema/vuln/1.1}Vulnerability'):
	CVE = country.find('{http://www.icasi.org/CVRF/schema/vuln/1.1}Title').text
	TITLE = country.find('{http://www.icasi.org/CVRF/schema/vuln/1.1}CVE').text
	year = TITLE.split("-")[1]
	try:
		years[year] = years[year]+1
	except Exception, e:
		years[year] = 1

years_keys = sorted(years.keys())
years_values = []
for i in years_keys:
	years_values.append(years[i])

# print years_keys
# print years_values
# g = GenerateChart(years_keys, years_values)
print years
		
